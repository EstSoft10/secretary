<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>A:ssistant</title>
    <link rel="stylesheet" th:href="@{/css/reset.css}">
    <link rel="stylesheet" th:href="@{/css/header.css}">
    <link rel="stylesheet" th:href="@{/css/index.css}"/>
    <script src="/js/index.js"></script>
</head>
<body>
<main class="main-container">
    <div th:replace="layout/header :: header"></div>
    <div class="content-wrapper">
        <section class="search-box">
            <form class="search-form" th:action="@{/searchResult}" method="get">
                <input type="text" name="query" placeholder="앨런에게 물어보세요!" required/>
                <button type="submit">검색</button>
            </form>
        </section>
        <section class="card-section">
            <div class="card-row">
                <div class="card wide-card youtube-card">
                    <p>🎬 유튜브 영상 요약해줘</p>
                    <form id="youtubeForm" class="youtube-form">
                        <input type="text" id="youtubeInput" name="query" placeholder="유튜브 링크를 붙여넣어 주세요" required/>
                        <button type="submit">요약</button>
                    </form>

                    <div id="result" style="margin-top: 1rem; white-space: pre-wrap; color: #333;"></div>
                </div>

                <div class="card small-card" id="weather-card">
                    <div id="weather-location" class="weather-location"></div>
                    <div id="weather-time" class="weather-time"></div>
                    <div class="weather-info">
                        <img id="weather-icon"/>
                        <span id="weather-text"></span>
                    </div>
                </div>
            </div>
            <div class="card-row">
                <div class="card small-card" onclick="location.href='/searchResult?query=오늘 저녁 뭐 먹지?';">
                    <p>🍱 오늘 저녁 뭐 먹지?</p>
                </div>
                <div class="card small-card" onclick="location.href='/searchResult?query=반려동물 사료 시장 분석';">
                    <p>🐶 반려동물 사료 시장</p>
                </div>
                <div class="card small-card" onclick="location.href='/searchResult?query=가성비 좋은 무선 이어폰 추천해줘';">
                    <p>🎧 무선 이어폰 추천</p>
                </div>
            </div>
        </section>
    </div>
</main>
<div id="loadingOverlay" class="overlay">
    <div class="spinner-container">
        <div class="spinner"></div>
        <p>요약 중입니다. 잠시만 기다려주세요...</p>
    </div>
</div>
<div th:replace="layout/footer :: footer"></div>
</body>
</html>
