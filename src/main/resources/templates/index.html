<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>A:ssistant</title>
    <link rel="stylesheet" th:href="@{/css/reset.css}">
    <link rel="stylesheet" th:href="@{/css/header.css}">
    <link rel="stylesheet" th:href="@{/css/index.css}"/>
    <script src="/js/index.js"></script>
</head>
<body>
<main class="main-container">
    <div th:replace="~{layout/header :: header}"></div>
    <div class="content-wrapper">
        <div class="user-profile">
            <img th:src="${#authentication.principal.profileImage}" alt="ÌîÑÎ°úÌïÑ Ïù¥ÎØ∏ÏßÄ" class="profile-image">
            <p th:text="${#authentication.principal.name + 'ÎãòÏùò ÏùºÏ†ï'}"></p>
        </div>
        <section class="search-box">
            <form class="search-form" th:action="@{/api/search}" method="get">
                <input type="text" name="query" placeholder="Ïï®Îü∞ÏóêÍ≤å Î¨ºÏñ¥Î≥¥ÏÑ∏Ïöî!" required/>
                <input name="userId" th:value="${#authentication.principal.id}" type="hidden">
                <button type="submit">Í≤ÄÏÉâ</button>
                <button type="button" onclick="startSpeech()" title="ÏùåÏÑ±ÏúºÎ°ú Í≤ÄÏÉâ">üé§</button>
            </form>
        </section>
        <section class="card-section">
            <div class="card-row">
                <div class="card wide-card youtube-card">
                    <p>üé¨ Ïú†ÌäúÎ∏å ÏòÅÏÉÅ ÏöîÏïΩÌï¥Ï§ò</p>
                    <form id="youtubeForm" class="youtube-form">
                        <input type="text" id="youtubeInput" name="query" placeholder="Ïú†ÌäúÎ∏å ÎßÅÌÅ¨Î•º Î∂ôÏó¨ÎÑ£Ïñ¥ Ï£ºÏÑ∏Ïöî" required/>
                        <button type="submit">ÏöîÏïΩ</button>
                    </form>

                    <div id="result" style="margin-top: 1rem; white-space: pre-wrap; color: #333;"></div>
                </div>

                <div class="card small-card" id="weather-card">
                    <div id="weather-location" class="weather-location"></div>
                    <div id="weather-time" class="weather-time"></div>
                    <div class="weather-info">
                        <img id="weather-icon"/>
                        <span id="weather-text"></span>
                    </div>
                </div>
            </div>
            <div class="card-row">
                <div th:each="prompt : ${promptList}" class="card small-card"
                     th:attr="data-query=${prompt.text}">
                    <p>
                        <span th:text="${prompt.icon}"></span>
                        <span th:text="${prompt.text}"></span>
                    </p>
                </div>
            </div>
        </section>
    </div>
</main>
<div th:replace="~{layout/footer :: footer}"></div>
</body>
</html>
